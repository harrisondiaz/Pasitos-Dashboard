<div
  class="w-full max-w-xl bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
>
  <div class="px-5 py-5 md:flex md:flex-col">
    @for (item of formattedColors; track $index) { @if (currentColor===item[0])
    {
    <img
      src="{{ item[1] }}"
      alt="{{ product.productName }}"
      class="w-10 h-10 object-contain rounded-lg shadow-lg"
    />
    }@else{
    <img
      src="{{ item[1] }}"
      alt="{{ product.productName }}"
      class="w-32 h-32 object-contain rounded-lg shadow-lg hidden"
    />

    } }
    <a href="#" class="md:mt-3">
      <h5
        class="text-xl font-semibold tracking-tight text-gray-900 dark:text-white"
      >
        {{ product.productName }}
      </h5>
    </a>

    <div class="space-x-5 mx-1 my-5">
      @for (item of formattedColors; track $index) { @if
      (currentColor===item[0]) {
      <button
        (click)="setColor(item[0])"
        class="bg-{{ item[0] }} size-10 rounded-lg outline outline-offset-2 "
      ></button>
      } @else {
      <button
        (click)="setColor(item[0])"
        class="bg-{{
          item[0]
        }} size-10 rounded-lg outline outline-offset-2 outline-1"
      ></button>

      } }
    </div>
    <div class="flex items-center justify-between">
      <span class="text-3xl font-bold text-gray-900 dark:text-white"
        >${{ product.totalCost }}</span
      >

      <!-- Modal toggle -->
      <button
        (click)="show()"
        data-modal-target="crud-modal"
        data-modal-toggle="crud-modal"
        class="block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
        type="button"
      >
        <!--svg de un lapiz-->
        <svg fill="#ffffff" width="20px" height="20px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff">

          <g id="SVGRepo_bgCarrier" stroke-width="0"/>
          
          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
          
          <g id="SVGRepo_iconCarrier"> <path d="M30.133 1.552c-1.090-1.044-2.291-1.573-3.574-1.573-2.006 0-3.47 1.296-3.87 1.693-0.564 0.558-19.786 19.788-19.786 19.788-0.126 0.126-0.217 0.284-0.264 0.456-0.433 1.602-2.605 8.71-2.627 8.782-0.112 0.364-0.012 0.761 0.256 1.029 0.193 0.192 0.45 0.295 0.713 0.295 0.104 0 0.208-0.016 0.31-0.049 0.073-0.024 7.41-2.395 8.618-2.756 0.159-0.048 0.305-0.134 0.423-0.251 0.763-0.754 18.691-18.483 19.881-19.712 1.231-1.268 1.843-2.59 1.819-3.925-0.025-1.319-0.664-2.589-1.901-3.776zM22.37 4.87c0.509 0.123 1.711 0.527 2.938 1.765 1.24 1.251 1.575 2.681 1.638 3.007-3.932 3.912-12.983 12.867-16.551 16.396-0.329-0.767-0.862-1.692-1.719-2.555-1.046-1.054-2.111-1.649-2.932-1.984 3.531-3.532 12.753-12.757 16.625-16.628zM4.387 23.186c0.55 0.146 1.691 0.57 2.854 1.742 0.896 0.904 1.319 1.9 1.509 2.508-1.39 0.447-4.434 1.497-6.367 2.121 0.573-1.886 1.541-4.822 2.004-6.371zM28.763 7.824c-0.041 0.042-0.109 0.11-0.19 0.192-0.316-0.814-0.87-1.86-1.831-2.828-0.981-0.989-1.976-1.572-2.773-1.917 0.068-0.067 0.12-0.12 0.141-0.14 0.114-0.113 1.153-1.106 2.447-1.106 0.745 0 1.477 0.34 2.175 1.010 0.828 0.795 1.256 1.579 1.27 2.331 0.014 0.768-0.404 1.595-1.24 2.458z"/> </g>
          
          </svg>
      </button>

      <!-- Modal -->

      <div
        id="crud-modal"
        tabindex="-1"
        aria-hidden="true"
        class="hidden fixed inset-0 z-50 overflow-y-auto bg-gray-800 bg-opacity-50 flex items-center justify-center"
      >
        <div
          class="bg-white rounded-lg shadow-xl max-w-3xl w-full mx-6 md:mx-auto"
        >
          <!-- Modal content -->
          <div class="p-4">
            <!-- Modal header -->
            <div
              class="flex items-center justify-between p-4 md:p-5 border-b rounded-t"
            >
              <h3 class="text-lg font-semibold text-gray-900">
                Editar Producto
              </h3>
              <button
                (click)="close()"
                type="button"
                class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"
                data-modal-toggle="crud-modal"
              >
                <svg
                  class="w-3 h-3"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 14 14"
                >
                  <path
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"
                  />
                </svg>
                <span class="sr-only">Cerrar modal</span>
              </button>
            </div>
            <!-- Modal body -->
            <form class="p-4 md:p-5">
              <div class="grid gap-4 grid-cols-2">
                <div>
                  <label
                    for="productName"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Nombre del Producto</label
                  >
                  <input
                    type="text"
                    name="productName"
                    id="productName"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el nombre del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="reference"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Referencia</label
                  >
                  <input
                    type="text"
                    name="reference"
                    id="reference"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe la referencia del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="quantity"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Cantidad</label
                  >
                  <input
                    type="number"
                    name="quantity"
                    id="quantity"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe la cantidad del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="costWithoutVAT"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Costo sin IVA</label
                  >
                  <input
                    type="number"
                    name="costWithoutVAT"
                    id="costWithoutVAT"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el costo sin IVA del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="costWithVAT"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Costo con IVA</label
                  >
                  <input
                    type="number"
                    name="costWithVAT"
                    id="costWithVAT"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el costo con IVA del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="vat"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >IVA</label
                  >
                  <input
                    type="number"
                    name="vat"
                    id="vat"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el IVA del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="totalCost"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Costo Total</label
                  >
                  <input
                    type="number"
                    name="totalCost"
                    id="totalCost"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el costo total del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="stock"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Stock</label
                  >
                  <input
                    type="number"
                    name="stock"
                    id="stock"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el stock del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="classification"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Clasificación</label
                  >
                  <input
                    type="text"
                    name="classification"
                    id="classification"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe la clasificación del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="supplier"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Proveedor</label
                  >
                  <input
                    type="text"
                    name="supplier"
                    id="supplier"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el proveedor del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="homePriceValue"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Precio de Venta</label
                  >
                  <input
                    type="number"
                    name="homePriceValue"
                    id="homePriceValue"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el precio de venta del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="homePriceProfitPercentage"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Porcentaje de Ganancia</label
                  >
                  <input
                    type="number"
                    name="homePriceProfitPercentage"
                    id="homePriceProfitPercentage"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el porcentaje de ganancia del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="homePriceProfitValue"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Valor de Ganancia</label
                  >
                  <input
                    type="number"
                    name="homePriceProfitValue"
                    id="homePriceProfitValue"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    placeholder="Escribe el valor de ganancia del producto"
                    required
                  />
                </div>
                <div>
                  <label
                    for="photos"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Fotos</label
                  >
                  <input
                    type="file"
                    name="photos"
                    id="photos"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 placeholder-gray-400"
                    required
                  />
                </div>
              </div>
              <button
                type="submit"
                class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5"
              >
                Agregar nuevo producto
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- End Modal -->
    </div>
  </div>
</div>
