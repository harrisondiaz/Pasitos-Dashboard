<div class="md:ml-64">
  <div class="mt-20">
    <div class="group2 visible mx-5 md:invisible -mb-20">
      <svg class="icon" aria-hidden="true" viewBox="0 0 24 24">
        <g>
          <path
            d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"
          ></path>
        </g>
      </svg>
      <input placeholder="Busqueda" type="search" class="input" />
    </div>
    <div class="flex items-center justify-between p-4 md:-mt-20 md:p-5 md:mb-2">
      <div
        class="flex invisible md:visible flex-row w-full bg-gray-200 rounded-lg py-2 justify-between items-center px-4 md:px-6 dark:bg-gray-700"
      >
        <div class="group">
          <svg class="icon" aria-hidden="true" viewBox="0 0 24 24">
            <g>
              <path
                d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"
              ></path>
            </g>
          </svg>
          <input placeholder="Busqueda" type="search" class="input" />
        </div>
        <div class="flex felx-row gap-5">
          <button
            (click)="setWindow('new-product')"
            type="button"
            class="flex text-white bg-lime-500 hover:bg-lime-800 focus:ring-4 focus:outline-none focus:ring-lime-300 font-medium rounded-lg text-sm px-5 py-2.5"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z" />
            </svg>
            <p>Agregar nuevo producto</p>
          </button>
          <button
            class="cursor-pointer group relative flex gap-1.5 px-8 py-2 bg-black bg-opacity-80 text-[#f1f1f1] rounded-3xl hover:bg-opacity-70 transition font-semibold shadow-md"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              height="24px"
              width="24px"
            >
              <g stroke-width="0" id="SVGRepo_bgCarrier"></g>
              <g
                stroke-linejoin="round"
                stroke-linecap="round"
                id="SVGRepo_tracerCarrier"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <g id="Interface / Download">
                  <path
                    stroke-linejoin="round"
                    stroke-linecap="round"
                    stroke-width="2"
                    stroke="#f1f1f1"
                    d="M6 21H18M12 3V17M12 17L17 12M12 17L7 12"
                    id="Vector"
                  ></path>
                </g>
              </g>
            </svg>
            Descargar
            <div
              class="absolute opacity-0 -bottom-full rounded-md py-2 px-2 bg-black bg-opacity-70 left-1/2 -translate-x-1/2 group-hover:opacity-100 transition-opacity shadow-lg"
            >
              Descargar
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <div
    class="grid sm:grid-cols-none md:grid-cols-2 lg:grid-cols-4 gap-4 justify-center md:mx-24"
  >
    @if (productList.length === 0) {
    <!-- Card diciendo lo sentimos al aprecer no tienes productos con un emoji-->
  
    <a
      class="block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"
    >
      <h5
        class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"
      >
        Lo sentimos ðŸ˜¢
      </h5>
      <p class="font-normal text-gray-700 dark:text-gray-400">
        Al parecer no tienes productos en tu inventario, agrega uno para
        comenzar a adminsitrar.
      </p>
    </a>
  
    } @else if (isLoading) {
    <div
      class="w-full max-w-sm pl-5 pr-5 pt-5 pb-2 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
    >
      <!-- Imagen con efecto shimmer -->
      <div
        class="h-96 bg-gradient-to-r from-gray-200 to-gray-300 animate-pulse rounded-lg shadow-lg"
      ></div>
  
      <!-- Texto con efecto shimmer -->
      <div
        class="mt-5 h-7 bg-gradient-to-r from-gray-200 to-gray-300 animate-pulse"
      ></div>
      <div
        class="mt-2 h-7 w-3/4 bg-gradient-to-r from-gray-200 to-gray-300 animate-pulse"
      ></div>
      <div
        class="mt-2 h-7 w-1/2 bg-gradient-to-r from-gray-200 to-gray-300 animate-pulse"
      ></div>
    </div>
  
    }@else { @for (item of productList; track item.id) {
  
    <div
      class="w-full max-w-sm pl-5 pr-5 pt-5 pb-2 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
    >
      @for (color of formatColors(item); track $index) { @if (item.currentColor
      === color[0]) {
      <img
        src="{{ color[1] }}"
        alt="{{ item.productname }}"
        class="w-full h-96 object-contain rounded-lg shadow-lg"
      />
      }@else{
      <img
        src="{{ color[1] }}"
        alt="{{ item.productname }}"
        class="w-full h-96 object-contain rounded-lg shadow-lg hidden"
      />
  
      } }
      <a class="md:mt-5">
        <h5
          class="text-3xl font-semibold tracking-tight text-gray-900 dark:text-white"
        >
          {{ item.productname }}
        </h5>
      </a>
  
      <div class="min-w-full mx-1 my-5 flex flex-row items-center gap-x-3">
        @for (color of formatColors(item); track $index) { @if (item.currentColor
        === color[0]) {
        <button
          (click)="setColor(item, color[0])"
          class="bg-{{
            color[0]
          }} size-10 md:size-5 lg:size-10 rounded-full outline outline-3 outline-offset-2 mb-5"
        ></button>
        } @else {
        <button
          (click)="setColor(item, color[0])"
          class="bg-{{
            color[0]
          }} size-10 md:size-5 lg:size-10 rounded-full outline-offset-2 outline-1 mb-5"
        ></button>
        } }
      </div>
  
      <div class="flex items-center justify-between">
        <span class="text-3xl font-bold text-gray-900 dark:text-white"
          >${{ item.homeprice.value }}</span
        >
      </div>
      <div class="flex flex-row justify-between mt-2">
        <!--Delete Button-->
        <button
          type="button"
          class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-2.5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-7 w-7"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M9 3v1H4v2h1v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6h1V4h-5V3zm0 5h2v9H9zm4 0h2v9h-2z"
            />
          </svg>
        </button>
        <!--Edit Button-->
        <a
          (click)="setEdit('edit-product', item)"
          class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-2.5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-7 w-7"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15q.4 0 .775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z"
            />
          </svg>
        </a>
      </div>
    </div>
  
    } }
  </div>
  <!--Add mobile product-->
  <div
    (click)="setWindow('new-product')"
    class="visible md:invisible fixed bottom-0 right-0 mb-8 mr-8 rounded-full bg-lime-500 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-lime-500 transition ease-in-out duration-150"
  >
    <svg
      class="w-14 h-14 text-white mx-auto"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
    >
      <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z" />
    </svg>
  </div>
  
</div>